version: '3.1'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
  - start
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - functions_available
  - districts_available
  - difficulties_available
  - i_want_to_hike
  - recommend_hiking_route
  - ask_today_weather
  - where_to_hike
  - easy_hard_hike
  - hiking_trails_search
  - thank_you
  - hiking_info
  - trails_search_by_districts
  - trails_search_by_lev
  - hiking_caution
  - checklist
  - accidents_list
  - ask_accidents
  - location_available
  - ask_weather_of_day
  - ask_weather

entities:
  - weather
  - choice
  - selected_district
  - difficulty
  - forecast
  - recommend
  - hiking_route
  - hike
  - easyhard
  - safety_caution
  - HK
  - districts
  - lev
  - prepare
  - accident
  - accident_name
  - location
  - time
  - today
  - week
  - gohike

slots:
  choice:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: choice
  
  selected_district:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: selected_district

  difficulty:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: difficulty

  hike:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: hike
  
  accident_name:
    type: text
    mappings:
    - type: from_entity
      entity: accident_name
  
  time:
    type: any
    mappings:
    - type: from_entity
      entity: time
  
  location:
    type: text
    mappings:
    - type: from_entity
      entity: location

forms:
  choice_form:
    required_slots:
      - choice
  
  district_form:
    # ignored_intents:
    #   - choice
    required_slots:
      - selected_district
  
  difficulty_form:
    # ignored_intents:
    #   - choice
    required_slots:
      - difficulty
  
  hiking_form:
    # ignored_intents:
    #   - choice
    required_slots:
      - hike

responses:
  utter_welcome:
  - text: ä½ å¥½ï¼Œæˆ‘ä¿‚å°å±± Hillyï¼Œä¿‚ä¸€å€‹æ¨ä»‹è¡Œå±±è·¯ç·šå˜… Chatbotã€‚

  utter_cheer_up:
  - text: 'å¸Œæœ›å‘¢å¼µåœ–ç‰‡æ°¹åˆ°ä½ é–‹å¿ƒ:'
    image: https://i.imgur.com/nGF1K8f.jpg
  - text: 'å¸Œæœ›å‘¢å¼µåœ–ç‰‡æ°¹åˆ°ä½ é–‹å¿ƒ:'
    image: https://images.unsplash.com/photo-1615497001839-b0a0eac3274c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80

  utter_did_that_help:
  - text: å’æ¨£å¹«å””å¹«åˆ°ä½ ?

  utter_happy:
  - text: å¥½ Have a nice day

  utter_goodbye:
  - text: 'å¤šè¬ä½¿ç”¨ Hilly, byebye'

  utter_thankyou:
  - text: 'å¤šè¬ä½¿ç”¨ Hilly'

  utter_iamabot:
  - text: 'æˆ‘ä¿‚ä¸€å€‹ç”± Rasa é©…å‹•å˜…èŠå¤©æ©Ÿæ¢°äºº ğŸ¤–'
  - text: 'æˆ‘å””ä¿‚çœŸäººå›è¦†ï¼Œè€Œä¿‚åŸºæ–¼ Rasa å˜…èŠå¤©æ©Ÿæ¢°äºº ğŸ¤–'
  - text: 'æˆ‘å””ä¿‚äººé¡å•Šï¼Œè€Œä¿‚Rasa èŠå¤©æ©Ÿæ¢°äºº ğŸ¤–'

  utter_top_menu:
  - text: "æˆ‘å¯ä»¥æ¨ä¾›è¡Œå±±è³‡è¨Šï¼Œè«‹é¸æ“‡ï¼š"
    buttons:
      - title: "è¡Œå±±å¾‘æŸ¥è©¢"
        payload: '/hiking_trails_search{{"choice":"è¡Œå±±å¾‘"}}'
      - title: "è¡Œå±±ç›¸é–‹è³‡è¨Š"
        payload: '/hiking_info{{"choice":"è³‡è¨Š"}}'
      - title: "ä»Šæ—¥å¤©æ°£æŸ¥è©¢"
        payload: '/ask_today_weather'

  utter_trails_search_menu:
  - text: "æŸ¥è©¢è¡Œå±±å¾‘å¯ä»¥ï¼š"
    buttons:
      - title: "ä¾ç…§åœ°å€æ¨ä»‹"
        payload: '/trails_search_by_districts{{"districts":"åœ°å€"}}'
      - title: "ä¾ç…§é›£åº¦æ¨ä»‹"
        payload: '/trails_search_by_lev{{"lev":"ç¨‹åº¦"}}'

  utter_hiking_info_menu:
  - text: "æˆ‘å¯ä»¥æä¾›ä»¥ä¸‹è¡Œå±±è³‡è¨Š"
    buttons:
      - title: "è¡Œå±±å®‰å…¨éœ€çŸ¥"
        payload: '/hiking_caution{{"safety_caution":"å®‰å…¨æ³¨æ„"}}'
      - title: "è¡Œå±±è£å‚™æ¸…å–®"
        payload: '/checklist{{"prepare":"æº–å‚™"}}'
      - title: "å¸¸è¦‹æ„å¤–"
        payload: '/ask_accidents{{"accident":"æ„å¤–"}}'
  
  utter_ask_district:
  - text: "è«‹é¸æ“‡åœ°å€:\n1)æ–°ç•ŒåŒ—å€\n2)æ¸¯å³¶å€\n3)è¥¿è²¢å€\n4)æ–°ç•Œè¥¿å€\n5)å¤§å¶¼å±±å€"
    buttons:
      - title: "æ–°ç•ŒåŒ—å€"
        payload: '/districts_available{{"selected_district":"æ–°ç•ŒåŒ—å€"}}'
      - title: "æ¸¯å³¶å€"
        payload: '/districts_available{{"selected_district":"æ¸¯å³¶å€"}}'
      - title: "è¥¿è²¢å€"
        payload: '/districts_available{{"selected_district":"è¥¿è²¢å€"}}'
      - title: "æ–°ç•Œè¥¿å€"
        payload: '/districts_available{{"selected_district":"æ–°ç•Œè¥¿å€"}}'
      - title: "å¤§å¶¼å±±å€"
        payload: '/districts_available{{"selected_district":"å¤§å¶¼å±±å€"}}'

  utter_do_you_want_to_see_other_difficulties:
  - text: ç‡å””ç‡åŸ‹å…¶ä»–é›£åº¦è¡Œå±±å¾‘?
    buttons: 
      - title: "å¥½"
        payload: '/affirm'
      - title: "å””ä½¿"
        payload: '/deny'

  utter_ask_difficulties:
  - text: è«‹è¼¸å…¥é›£åº¦ï¼Œ1 æœ€æ˜“ï¼Œ5æœ€é›£
    buttons:
      - title: "1" 
        payload: '/difficulties_available{{"difficulty":"é›£åº¦ä¸€æ˜Ÿ"}}'
      - title: "2"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦äºŒæ˜Ÿ"}}'
      - title: "3"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦ä¸‰æ˜Ÿ"}}'
      - title: "4"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦å››æ˜Ÿ"}}'
      - title: "5"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦äº”æ˜Ÿ"}}'

  utter_say_user_chose: 
  - condition:
    - type: slot
      name: choice
      value: "åœ°å€"
    text: "è«‹é¸æ“‡åœ°å€:\n1)æ–°ç•ŒåŒ—å€\n2)æ¸¯å³¶å€\n3)è¥¿è²¢å€\n4)æ–°ç•Œè¥¿å€\n5)å¤§å¶¼å±±å€"
    buttons:
      - title: "æ–°ç•ŒåŒ—å€"
        payload: '/districts_available{{"district":"æ–°ç•ŒåŒ—å€"}}'
      - title: "æ¸¯å³¶å€"
        payload: '/districts_available{{"district":"æ¸¯å³¶å€"}}'
      - title: "è¥¿è²¢å€"
        payload: '/districts_available{{"district":"è¥¿è²¢å€"}}'
      - title: "æ–°ç•Œè¥¿å€"
        payload: '/districts_available{{"district":"æ–°ç•Œè¥¿å€"}}'
      - title: "å¤§å¶¼å±±å€"
        payload: '/districts_available{{"district":"å¤§å¶¼å±±å€"}}'
  - condition:
    - type: slot
      name: choice
      value: "é›£åº¦"
    text: è«‹è¼¸å…¥é›£åº¦ï¼Œ1 æœ€æ˜“ï¼Œ5æœ€é›£
    buttons:
      - title: "1" 
        payload: '/difficulties_available{{"difficulty":"é›£åº¦ä¸€æ˜Ÿ"}}'
      - title: "2"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦äºŒæ˜Ÿ"}}'
      - title: "3"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦ä¸‰æ˜Ÿ"}}'
      - title: "4"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦å››æ˜Ÿ"}}'
      - title: "5"
        payload: '/difficulties_available{{"difficulty":"é›£åº¦äº”æ˜Ÿ"}}'

  utter_hiking_caution:
  - custom: 
      text: "é è¶³å®‰å…¨å®ˆå‰‡\n
          1. å‡ºç™¼å‰æ‡‰æ³¨æ„å¤©æ°£æƒ…æ³ï¼Œå°¤å…¶è¦ç•™æ„æ˜¯å¦æœƒæœ‰é›·æš´ã€é¢¨é›¨æˆ–æ°£æº«é©Ÿé™ç­‰æƒ…æ³ï¼›\n
          2. æ‡‰æ¸…æ¥šäº†è§£å°‡è¡Œç¶“çš„åœ°å€ï¼Œç•™æ„è­¦ç½²ï¼ŒéƒŠé‡å…¬åœ’ç®¡ç†ç«™åŠæ±‚æ•‘é›»è©±çš„ä½ç½®ï¼›\n
          3. ç•™æ„ç«ç½å±éšªè­¦å‘Šè¨Šè™Ÿï¼Œå¦‚æœç•¶æ—¥å¤©æ°£ä¹¾ç‡¥ï¼Œåˆ‡å‹¿éš¨ä¾¿ç”Ÿç«ï¼›\n
          4. å¿…é ˆç©¿è‘—é©ç•¶çš„è¡£ç‰©åŠè¡Œå±±é‹ï¼Œä¸¦å¸¶å‚™å¤ªé™½å¸½åŠè¡Œå±±æ‰‹æ–ï¼›\n
          5. æ‡‰æ”œå¸¶ä»¥ä¸‹ç‰©å“ï¼šåœ°åœ–ã€æŒ‡å—é‡ã€æ€¥æ•‘è—¥å“ã€é›»ç­’ã€å“¨å­ã€ç´™ç­†ã€ç¦¦å¯’è¡£ç‰©ã€é›¨å…·ã€å¾Œå‚™é£Ÿç³§ã€å……è¶³çš„é£Ÿæ°´ï¼Œä»¥åŠé€šè¨Šå™¨æå¦‚æµå‹•é›»è©±ï¼›\n
          6. ç‚ºæ–¹ä¾¿è¡Œèµ°å’Œæ”€å±±ï¼Œè«‹å°‡ç¬¬5é …æ‰€è¿°çš„ç‰©å“å¦¥å–„åœ°æ”¾åœ¨èƒŒå›Šå…§ï¼›\n
          7. æ‡‰çµä¼´åŒè¡Œï¼Œç¢ºä¿åŒè¡Œè€…ä¸­æœ‰å…·å‚™é è¶³ç¶“é©—åŠæ€¥æ•‘çŸ¥è­˜çš„äººå£«ï¼›\n
          8. å¦‚åœ¨å±±é‡é–“è¿·é€”ï¼Œæ‡‰é¸æ“‡åŸè·¯æŠ˜è¿”ï¼Œåˆ‡å‹¿å¼·è¡Œå‰é€²ï¼›\n
          9. æ—…ç¨‹ä¸­å¦‚é‡ä¸Šæ„å¤–ï¼Œæ‡‰ç›¡å¿«å°‹æ±‚å”åŠ©ã€‚\n
          ä¾†æºï¼š[é¦™æ¸¯æ”€å±±å”æœƒ é è¶³åŠéœ²ç‡Ÿæ´»å‹•å®‰å…¨æŒ‡å¼•](http://www.hkma.net/mountain_safety.html)\n
          å…¶ä»–ç›¸é—œç¶²é :
          1. [æ¼è­·ç½² éƒŠé‡å…¬åœ’é è¶³å®‰å…¨æŒ‡å¼•](https://www.afcd.gov.hk/tc_chi/country/cou_vis/cou_vis_gac/cou_wha_whe_sat.html)\n
          2. [æ°‘å®‰éšŠ é è¶³æ´»å‹•å®‰å…¨é ˆçŸ¥](https://www.cas.gov.hk/chi/safe/hikingsafety.html)\n"
      parse_mode: markdown

  utter_checklist:
  - custom:
      text: "è‰¯å¥½çš„è£å‚™å°é è¶³å¾ˆé‡è¦ï¼Œé è¶³å‰å¯å› æ‡‰å€‹äººéœ€è¦åŠæ´»å‹•æ€§è³ªï¼Œæ”œå¸¶ä»¥ä¸‹è£å‚™ï¼š\n
        1. èƒŒå›Š\n
        â€” æœ€è¼•çš„ç‰©å“æ”¾ä¸‹é¢ï¼Œè¼ƒé‡çš„ä¸­é–“ï¼Œæœ€é‡çš„æ”¾ä¸Šé¢ï¼Œå¾Œç”¨å…ˆæ”¾ï¼Œéš¨æ™‚ç”¨çš„æ”¾å…©å´ï¼Œå·¦å³å…©é‚Šé‡é‡è¦ç›¸ç¨±\n
        â€” èƒŒå›Šçš„é‡é‡ä¸è¦è¶…éå€‹äººé«”é‡ä¹‹ä¸‰åˆ†ä¸€ï¼Œæœ€é‡å‰‡ä¸å¯è¶…éå››åç£…\n
        2. ç™»å±±é‹ â€” é‹é ­è¦è¼ƒé—Šï¼Œé‹åº•è¦æœ‰è¼ƒæ·±çš„å‘ç´‹\n
        3. è¥ªå­\n
        4. ä¸Šè¡£ â€” ç©¿é•·è¢–å’Œæœ‰é ˜çš„é˜²æ›¬/é€Ÿä¹¾/é€æ°£è¡«ï¼Œå¯é¿å…é›™è‡‚å’Œé ¸å¾Œè¢«é™½å…‰ç¼å‚·\n
        5. è¤² â€” é¬†èº«é˜²æ›¬/é€Ÿä¹¾/é€æ°£é•·è¤²ç‚ºä½³\n
        6. æ¯›å·¾/å†°å·¾/æ‰‹è‡‚å¥—ç®¡\n
        7. å¤–è¡£åŠé˜²é¢¨è¡£/é›¨è¡£\n
        8. å¸½ã€å¤ªé™½çœ¼é¡ã€é›¨å‚˜ã€æ‰‹å¥—\n
        9. å¾Œå‚™è¡£ç‰©\n
        10. è¡Œå±±æ–\n
        11. åœ°åœ–([åœ°æ”¿ç¸½ç½²å‡ºç‰ˆçš„éƒŠå€åœ°åœ–](https://www.landsd.gov.hk/tc/survey-mapping/mapping/thematic-mapping.html#2))åŠæŒ‡å—é‡\n
        12. ç…§æ˜å·¥å…·\n
        13. å“¨å­\n
        14. é£Ÿç³§åŠç·Šæ€¥é£Ÿç³§ â€” é«˜ç†±é‡ã€è¼•ä¾¿ã€æ˜“é€²é£Ÿç‚ºä¸»ï¼Œå¦‚è‘¡è„ç³–ã€æå­ä¹¾ã€èƒ½é‡é£Ÿç‰©\n
        15. æ°´æ¨½åŠæ°´ï¼š[éƒŠé‡å…¬åœ’åŠ æ°´ç«™](https://www.afcd.gov.hk/tc_chi/country/cou_vis/cou_vis_rec/cou_vis_wfs.html)\n
        16. å€‹äººè—¥å“åŠæ€¥æ•‘ç”¨å“\n
        17. é˜²æ›¬åŠé˜²èšŠç”¨å“\n
        18. ç„¡ç·šé›»è©±åŠå¾Œå‚™é›»æ± /å……é›»å™¨åŠå……é›»ç·š([èªè­˜æš¢éŠéƒŠéŠå…¬åœ’çš„é€šè¨Šæ–¹æ³•](https://www.ofca.gov.hk/tc/consumer_focus/guide/safety/country_parks/index.html))\n
        19. æ‰‹éŒ¶\n
        20. [é¦™æ¸¯é è¶³è·¯å¾‘å¤©æ°£æœå‹™](https://www.hko.gov.hk/tc/103461/%E9%A6%99%E6%B8%AF%E9%81%A0%E8%B6%B3%E8%B7%AF%E5%BE%91%E5%A4%A9%E6%B0%A3%E6%9C%8D%E5%8B%99)\n
        [ä¾†æº](https://www.youth.gov.hk/tc/cultural-and-leisure/stories/detail.htm?content-id=2393022&section=CLA)"
      parse_mode: markdown


  utter_accident_list:
    - text: "è¡Œå±±å¸¸è¦‹æ„å¤–æœ‰ï¼š\n
          1. æ–œæ»‘å±±å¾‘\n
          2. å±±æ´ªæš´ç™¼\n
          3. å±±æ³¥å‚¾ç€‰\n
          4. å±±ç«\n
          5. é›·æ“Š\n
          6. è¿·é€”\n
          7. ä¸­æš‘\n
          8. æš´å¯’\n
          9. è›‡å’¬\n
          10. èœ‚è«\n
          11. èšŠå®\n
          12. èŸåŠèœ±\n
          13. å±éšªæ¤ç‰©\n
          ä¾†æº: shttps://www.afcd.gov.hk/tc_chi/country/cou_vis/cou_vis_gac/cou_wha_whe_sat.html"
      buttons:
        - title: "æ–œæ»‘å±±å¾‘"
          payload: '/accidents_list{{"accident_name":"æ–œæ»‘å±±å¾‘"}}'
        - title: "å±±æ´ªæš´ç™¼"
          payload: '/accidents_list{{"accident_name":"å±±æ´ªæš´ç™¼"}}'
        - title: "å±±æ³¥å‚¾ç€‰"
          payload: '/accidents_list{{"accident_name":"å±±æ³¥å‚¾ç€‰"}}'
        - title: "å±±ç«"
          payload: '/accidents_list{{"accident_name":"å±±ç«"}}'
        - title: "é›·æ“Š"
          payload: '/accidents_list{{"accident_name":"é›·æ“Š"}}'
        - title: "è¿·é€”"
          payload: '/accidents_list{{"accident_name":"è¿·é€”"}}'
        - title: "ä¸­æš‘"
          payload: '/accidents_list{{"accident_name":"ä¸­æš‘"}}'
        - title: "æš´å¯’"
          payload: '/accidents_list{{"accident_name":"æš´å¯’"}}'
        - title: "è›‡å’¬"
          payload: '/accidents_list{{"accident_name":"è›‡å’¬"}}'
        - title: "èœ‚è«"
          payload: '/accidents_list{{"accident_name":"èœ‚è«"}}'
        - title: "èšŠå®"
          payload: '/accidents_list{{"accident_name":"èšŠå®"}}'
        - title: "èŸåŠèœ±"
          payload: '/accidents_list{{"accident_name":"èŸåŠèœ±"}}'
        - title: "å±éšªæ¤ç‰©"
          payload: '/accidents_list{{"accident_name":"å±éšªæ¤ç‰©"}}'

  utter_time:
  - text: "{time} å˜…å¤©æ°£å¦‚ä¸‹:"

  utter_out_of_scope:
  - text: "å°å””ä½ï¼Œæˆ‘è™•ç†å””åˆ°ä½ å•²è¦æ±‚"

  utter_img_demo:
  - text: "Here is a demo img:"
    image: ""

  utter_ask_weather_when:
  - text: "ä½ æƒ³ç‡å¹¾æ™‚å˜…å¤©æ°£? å¯ä»¥æŸ¥è©¢ç”±ä»Šæ—¥åˆ°æœªä¾†ä¹å¤©å¤©æ°£é å ±"

actions:
  - action_district_query
  - action_difficulty_query
  - action_inquire_weather
  - action_say_district_chosen
  - action_say_function_chosen
  - action_reset_all_slots
  - utter_say_user_chose
  - utter_ask_district
  - action_accident_query
  - action_inquire_weather_forecast
  - action_trailname_query