version: '3.1'

stories:
- story: greet_flow
  steps:
  - intent: greet
  - action: utter_welcome
  - action: utter_list_functions
  - checkpoint: greet_user

- story: option_1_district
  steps:
  - checkpoint: greet_user
  - intent: functions_available
    entities:
    - choice: 依照地區推介
  - slot_was_set:
    - choice: 依照地區推介
  - action: utter_say_user_chose
  - intent: districts_available
    entities:
    - district
  - slot_was_set:
    - district
  - action: action_district_query
  - checkpoint: story_complete

- story: option_2_difficulty
  steps:
  - checkpoint: greet_user
  - intent: functions_available
    entities:
    - choice: 依照難度推介
  - slot_was_set:
    - choice: 依照難度推介
  - action: utter_say_user_chose
  - intent: difficulties_available
    entities:
    - difficulty
  - slot_was_set:
    - difficulty
  - action: action_difficulty_query
  - checkpoint: story_complete

- story: 天氣
  steps:
  - checkpoint: greet_user
  - intent: check_weather
    entities: 
      - weather: "天氣"
  - action: action_inquire_weather
  - checkpoint: story_complete

- story: loop_again
  steps:
  - checkpoint: story_complete
  - action: utter_list_functions
  - active_loop: choice_form


